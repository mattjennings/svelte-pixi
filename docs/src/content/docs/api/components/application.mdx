---
title: Application
---

import SvelteTabs from '$lib/components/SvelteTabs.astro'
import ComponentAPI from '$lib/components/ComponentAPI.astro'
import ComponentDescription from '$lib/components/svelte-5/ComponentDescription.astro'

Just like `PIXI.Application`, it sets up the [Renderer](/docs/components/renderer), [Ticker](/docs/components/ticker) and root [Container](/docs/components/container). If you wish, you can manually render those components instead.

<ComponentDescription
  name="Application"
  source="https://pixijs.download/dev/docs/app.Application.html"
/>

## Type-Safety Limitation with Subclasses

:::caution[Important: Using Subclasses]
If you are extending `PIXI.Application` with your own subclass, you **MUST** provide the `instance` prop with your custom instance.

Due to TypeScript's limitations with generic types, if you don't provide an instance, a base `PIXI.Application`
will be created and unsafely cast to your subclass type. This will cause **runtime errors** when trying to access
subclass-specific properties or methods that don't actually exist on the instance.

**Correct Usage with Subclasses:**

```typescript
class MyApp extends PIXI.Application {
  myCustomMethod() { ... }
}

// Create your instance first
const app = new MyApp()

// Then pass it to the component
<Application instance={app} />
```

**Incorrect Usage (will cause runtime errors):**

```typescript
// DON'T DO THIS with subclasses
let app: MyApp  // Type says MyApp, but actual instance will be PIXI.Application
<Application bind:instance={app} />

// This will fail at runtime:
app.myCustomMethod()  // Error: myCustomMethod is not a function
```

This limitation is documented in [issue #49](https://github.com/mattjennings/svelte-pixi/issues/49) and is a known tradeoff of the current API design.
When using the base `PIXI.Application` type (the default), this is not a concern.
:::

## Usage

<SvelteTabs>
  <div slot="svelte-5">
    ```svelte live props={{ bg: 'none' }} wrapper="/src/layouts/examples/wrappers/Empty.svelte"
    <script>
      import { Application, Text } from 'svelte-pixi'
    </script>

    <Application width={400} height={400} antialias>
      <Text
        x={200}
        y={200}
        anchor={0.5}
        text="Hello World"
        style={{ fill: 'white' }}
      />
    </Application>
    ```

  </div>
  <div slot="svelte-4">
    ```svelte live props={{ bg: 'none' }} wrapper="/src/layouts/examples/wrappers/Empty.svelte"
    <script>
      import { Application, Text } from 'svelte-pixi/svelte-4'
    </script>

    <Application width={400} height={400} antialias>
      <Text
        x={200}
        y={200}
        anchor={0.5}
        text="Hello World"
        style={{ fill: 'white' }}
      />
    </Application>
    ```

  </div>
</SvelteTabs>

### Custom View

If you want to customize the element that the canvas is rendered into, you can use the `view` slot. The canvas will be appended as a child of the slot element.

<SvelteTabs>
  <div slot="svelte-5">
    ```svelte live props={{ bg: 'none' }} wrapper="/src/layouts/examples/wrappers/Empty.svelte"
    <script>
      import { Application, Text } from 'svelte-pixi'
    </script>

    <Application width={400} height={400} antialias autoDensity>
      {#snippet view()}
        <div class="custom">
          <!-- canvas will be placed here -->
        </div>
      {/snippet}

      <!-- pixi components go here -->
      <Text
        x={200}
        y={200}
        anchor={0.5}
        text="Hello World"
        style={{ fill: 'white' }}
      />
    </Application>

    <style>
      .custom :global(canvas) {
        border: 5px solid tomato;
        border-radius: 5px;
      }
    </style>
    ```

  </div>
  <div slot="svelte-4">
    ```svelte live props={{ bg: 'none' }} wrapper="/src/layouts/examples/wrappers/Empty.svelte"
    <script>
      import { Application, Text } from 'svelte-pixi/svelte-4'
    </script>

    <Application width={400} height={400} antialias autoDensity>
      <div slot="view" class="custom">
        <!-- canvas will be placed here -->
      </div>

      <!-- pixi components go here -->
      <Text
        x={200}
        y={200}
        anchor={0.5}
        text="Hello World"
        style={{ fill: 'white' }}
      />
    </Application>

    <style>
      .custom :global(canvas) {
        border: 5px solid tomato;
        border-radius: 5px;
      }
    </style>
    ```

  </div>
</SvelteTabs>

### Custom Stage

PIXI.Application automatically creates a root container at `app.stage`. If you want to customize it you can either modify it directly
or use the `stage` snippet to manually render it as a `Container` component.

<SvelteTabs>
  <div slot="svelte-5">
    ```svelte live props={{ bg: 'none' }} wrapper="/src/layouts/examples/wrappers/Empty.svelte"
    <script>
      import { Application, Text, Container} from 'svelte-pixi'

      let mouse = { x: 0, y: 0 }
    </script>

    <Application width={400} height={400} antialias autoDensity>
      <!-- customize the app.stage instance -->
      {#snippet stage({ app, children })}
        <Container
          instance={app.stage}
          hitArea={app.screen}
          eventMode="static"
          onpointermove={(e) => mouse = e.data.global}
        >
          <!-- your pixi components go here -->
          <Text
            x={200}
            y={200}
            anchor={0.5}
            text={`Mouse: ${Math.round(mouse.x)}, ${Math.round(mouse.y)}`}
            style={{ fill: 'white' }}
          />

          <!--
           alternatively, you can do {@render children()} here
           and put your components outside of this snippet.
           they will both work the same way.
          -->
        </Container>
      {/snippet}
    </Application>
    ```

  </div>
  <div slot="svelte-4">
    ```svelte live props={{ bg: 'none' }} wrapper="/src/layouts/examples/wrappers/Empty.svelte"
    <script>
      import { Application, Text, Container } from 'svelte-pixi/svelte-4'
      let mouse = { x: 0, y: 0 }
    </script>

    <Application width={400} height={400} antialias autoDensity>
      <!-- customize the app.stage instance -->
      <slot slot="stage" let:app>
        <Container
          instance={app.stage}
          hitArea={app.screen}
          eventMode="static"
          on:pointermove={(e) => mouse = e.detail.data.global}
        >
          <!-- your pixi components go here -->
          <Text
            x={200}
            y={200}
            anchor={0.5}
            text={`Mouse: ${Math.round(mouse.x)}, ${Math.round(mouse.y)}`}
            style={{ fill: 'white' }}
          />
        </Container>
      </slot>
    </Application>

    <style>
      .custom :global(canvas) {
        border: 5px solid tomato;
        border-radius: 5px;
      }
    </style>
    ```

  </div>
</SvelteTabs>

### Render on Demand

<SvelteTabs>
  <div slot="svelte-5">
    ```svelte live props={{ bg: 'none' }} wrapper="/src/layouts/examples/wrappers/Empty.svelte"
    <script>
      import { onMount } from 'svelte'
      import { Text, Application } from 'svelte-pixi'
      import DraggableCircle from '$lib/components/DraggableCircle.svelte'
    </script>

    <Application
      width={400}
      height={400}
      antialias
      render="demand"
      onrender={() => console.log('render')}
    >
      <DraggableCircle x={200} y={200} />
      <Text
        x={200}
        y={300}
        text="Click and drag"
        style={{ fill: 'white' }}
        anchor={0.5}
      />
    </Application>
    ```

  </div>
  <div slot="svelte-4">
    ```svelte live props={{ bg: 'none' }} wrapper="/src/layouts/examples/wrappers/Empty.svelte"
    <script>
      import { onMount } from 'svelte'
      import { Text, Application } from 'svelte-pixi/svelte-4'
      import DraggableCircle from '$lib/components/DraggableCircle.svelte'
    </script>

    <Application
      width={400}
      height={400}
      antialias
      render="demand"
      on:render={() => console.log('render')}
    >
      <DraggableCircle x={200} y={200} />
      <Text
        x={200}
        y={300}
        text="Click and drag"
        style={{ fill: 'white' }}
        anchor={0.5}
      />
    </Application>
    ```

  </div>
</SvelteTabs>

## API

<ComponentAPI component="Application.svelte" />
